---
import PageLayout from "@layouts/PageLayout.astro";
import { frontmatter } from "schemas/page.md";
import { type CollectionEntry } from "astro:content";
import { BUILDMODE } from "astro:env/server";

const page: Pick<CollectionEntry<"pages">, "id" | "data"> = {
  id: "new-page",
  data: frontmatter as CollectionEntry<"pages">["data"],
};

if (BUILDMODE !== "EDITOR") return Astro.rewrite("/");
---

<PageLayout {page} />
